<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EZTech | Payment Page</title>
    <link rel="stylesheet" href="ez_reset.css">
    <link rel="stylesheet" href="ez_credit_card_style.css" />
    <link rel="icon" href="media/logoicon.ico" type="image/x-icon">
</head>
<body>

    <div class="head">
        <!--<h1><span id="EZ">EZ</span><span id="Tech">Tech</span></h1>-->
        <img src="media/logo.jpg" alt="eztech">
        <h2>Making people's lives simpler</h2>
        </div>


    <!--credit-card section-->
    <div class="credit-card" id="credit-card">

        <h1>Payment Page (Credit Card)</h1>

        <div class="card-container">

            <div class="front">
                <img src="media/credit-card-background.png" alt="background" class="background-credit">
                <div class="image">
                    <img src="media/visa repli card.png" alt="visa">
                    <img src="media/card chip repli.png" alt="chip">
                </div>
                <div class="card-number-box">0000 0000 0000 0000</div>
                <div class="flexbox">
                    <div class="box">
                        <span>card holder</span>
                        <div class="card-holder-name">full name</div>
                    </div>

                    <div class="box">
                        <span>Valid until</span>
                        <div class="expiration">
                            <span class="exp-month">mm</span>
                            <span class="exp-year">yy</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="back">
                <div class="stripe"></div>
                <div class="box">
                    <span>cvv</span>
                    <div class="cvv-box"></div>
                    <img src="media/visa repli card.png" alt="visa" >
                   
                </div>
            </div>
        </div>


<form  action="ez_completion_credit.html"  name="credit_payment" onsubmit="return credit_complete();" method="GET" id="creditp">
        <h2>Total amount is: RM<span id="totalamount">0.00</span></h2>
    <div class="inputBox">
        <span>Card Number</span>
        <input type="text" class="card-number-input" minlength="19" maxlength="19" id="card_number" placeholder="0000 1111 2222 3333" title="e.g. 0000 1111 2222 3333" pattern="[0-9]{4} [0-9]{4} [0-9]{4} [0-9]{4}$" required name="Card_Number" />
    </div>

    <div class="inputBox">
        <span>Card Holder</span>
        <input type="text" id="fullname"  class="card-holder-input" minlength="6" placeholder="Lim Xiao Ming" onkeyup="ltronly()" required name="Card_Holder_Name" >
        <p id="alert-name">&nbsp;</p>
    </div>

    <div class="flexbox">
        <div class="inputBox">
            <span>Expiration (mm)</span>
            <select name="Expiration_Month" id="expiration_mm" class="month-input" required >
                <option value="">&nbsp;</option>
                <option value="01">01</option>
                <option value="02">02</option>
                <option value="03">03</option>
                <option value="04">04</option>
                <option value="05">05</option>
                <option value="06">06</option>
                <option value="07">07</option>
                <option value="08">08</option>
                <option value="09">09</option>
                <option value="10">10</option>
                <option value="11">11</option>
                <option value="12">12</option>
            </select>
        </div>

        <div class="inputBox">
            <span>Expiration (yy)</span>
            <select id="expiration_yy" class="year-input" required name="Expiration_Year" >
                <option value="">&nbsp;</option>
                <option value="2021">2021</option>
                <option value="2022">2022</option>
                <option value="2023">2023</option>
                <option value="2024">2024</option>
                <option value="2025">2025</option>
                <option value="2026">2026</option>
                <option value="2027">2027</option>
                <option value="2028">2028</option>
                <option value="2029">2029</option>
                <option value="2030">2030</option>
            </select>
        </div>

        <div class="inputBox">
            <span>CVV</span>
            <input type="password" id="cvv" pattern="[0-9]{4}" class="cvv-input" required name="CVV Number" >
        </div>
    </div>

        <div class="inputBox">
            <span>Type of Bank</span>
            <select class="select-bank"  id="typebank" required name="Bank" >
                <option value="">&nbsp;</option>
                <option value="Affin Bank">Affin Bank</option>
                <option value="Alliance Bank">Alliance Bank</option>
                <option value="Ambank">Ambank</option>
                <option value="Bank Islam Malaysia">Bank Islam Malaysia</option>
                <option value="Bank Simpanan Nasional">Bank Simpanan Nasional</option>
                <option value="CIMB Bank">CIMB Bank</option>
                <option value="Hong Leong Bank">Hong Leong Bank</option>
                <option value="HSBC Bank">HSBC Bank</option>
                <option value="Maybank">Maybank</option>
                <option value="Public Bank">Public Bank</option>
                <option value="RHB Bank">RHB Bank</option>
                <option value="Standard Chartered">Standard Chartered</option>
                <option value="United Oversea Bank">United Oversea Bank</option>
            </select>
        </div>

        <div class="inputBox">
            <span>Type of Card</span>
            <select class="select-card" id="cardtype"  required name="Card Type" >
                <option value="">&nbsp;</option>
                <option value="Visa">Visa</option>
                <option value="Mastercard">Mastercard</option>
            </select>
        </div>


    <input type="submit" value="PAY NOW" class="pay-btn"> 
</form>

    </div>

    <footer>
        <div class="footer">
            <!--<h1><span id="EZ">EZ</span><span id="Tech">Tech</span></h1>-->
            <img src="media/logo.jpg" alt="eztechlogo">
            <h2>Making people's lives simpler</h2>

            <div class="footer-end">
                <p>&copy;EZTech 2022. All rights reserved.</p>
            </div>
        </div>
    </footer>


<script>
     //to prevent user to go back previous page
     function preback(){window.history.forward();}
            setTimeout("preback()",0);
            window.onunload=function(){null};

            function ltronly(){
       var str= document.getElementById("fullname").value;
       var namealert= document.getElementById("alert-name");
       if(!((/^[a-z A-Z]+$/.test(str) ) || str.length==0)){
            namealert.style.display="block";
            alert("Warning! letters only.");
            document.getElementById("fullname").value="";
       }else{
        namealert.style.display="none";
        nameflag=true;
       }
      }

            
            document.querySelector('.card-number-input').oninput = () =>{
            document.querySelector('.card-number-box').innerText = document.querySelector('.card-number-input').value;
            }

            document.querySelector('.card-holder-input').oninput = () =>{
                document.querySelector('.card-holder-name').innerText = document.querySelector('.card-holder-input').value;
            }

            document.querySelector('.month-input').oninput = () =>{
                document.querySelector('.exp-month').innerText = document.querySelector('.month-input').value;
            }

            document.querySelector('.year-input').oninput = () =>{
                document.querySelector('.exp-year').innerText = document.querySelector('.year-input').value;
            }

            document.querySelector('.cvv-input').onmouseenter    = () =>{
                document.querySelector('.front').style.transform = 'perspective(1000px) rotateY(-180deg)';
                document.querySelector('.back').style.transform = 'perspective(1000px) rotateY(0deg)';
            }

            document.querySelector('.cvv-input').onmouseleave    = () =>{
                document.querySelector('.front').style.transform = 'perspective(1000px) rotateY(0deg)';
                document.querySelector('.back').style.transform = 'perspective(1000px) rotateY(180deg)';
            }

            document.querySelector('.cvv-input').oninput= () =>{
                document.querySelector('.cvv-box').innerText =  document.querySelector('.cvv-input').value;
            }

            function credit_complete(){
                var key= "credit_card_payment";
                localStorage.removeItem(key);
                var name = document.getElementById("fullname").value;
                var cvv = document.getElementById("cvv").value;
                var type_of_card = document.getElementById("cardtype").value;
                var type_of_bank = document.getElementById("typebank").value;
                var date = localStorage.setItem("Date", new Date())

                var payment_credit = {
                    "Fulln": name,
                    "Card_type": type_of_card,
                    "Bank" : type_of_bank,
                    "CVV_num" : cvv
                };

                localStorage.setItem(key,JSON.stringify(payment_credit));
                return true;
            }

            function getProTotal() {
                var LSProductTotal = localStorage.getItem("finalordertotal");
                var tolamt = document.getElementById("totalamount");
                tolamt.innerHTML = LSProductTotal;
            }

            function init(){
                getProTotal();
            }
            
window.onload= init;
            
</script>
</body>
</html>